<!doctype html>
<html lang="en" class="no-js">
  <head>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../page2/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.6">
    
    
      
        <title>About - Flashcards Demo</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0e669242.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    <script src="cached.js"></script>
    <script src="dalle3.js"></script>
    <script src="dalle3cartoon.js"></script>
    <script src="minimal_pairs.js"></script>
    <script src="flux.js"></script>
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="pink">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#what-are-speech-language-disorders" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  <div class="heading-container">
    <div class="img-container">
      <img src="../assets/images/logo.png" alt="Beautiful Image">
    </div>
    <div class="header-right">
      <div style="display: flex;
      flex-direction: row;
      position: absolute;text-align: center; font-size: 25px; font-weight: bold;"
      >
      Custom Flashcard Generation Using AI
      
      </div>
     
    </div>
</div>
    
    <div class="md-container" data-md-component="container">
      <!-- <a class="left-arrow" style="margin-top: 24%;" href="/FlashCards_Demo/page3/">
        &lt;
       </a> -->
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" hidden>
                <div class="md-sidebar__scrollwrap" style="height: auto;">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
            <body>
            <div id="page1" class="md-content-flashcard" data-md-component="content">
              <article class="md-content__inner md-typeset">
                <a id="prevPage" href="/flashcards/page3/">Previous</a>
                <a id="nextPage" style="float: right;" href="/flashcards/page5/">Next</a>
                <!-- <div class="button-container-nav">
                  <a href="/FlashCards_Demo/page3/" class="button-nav previous-nav">Previous</a>
                  <a href="/FlashCards_Demo/page5/" class="button-nav next-nav">Next</a>
                </div> -->
                <div id="selectiondiv" style="display: flex; flex-direction: row; justify-content: space-between; margin: 2% 10%;">
                  <div>
                    <span style="font-weight: bold; font-size: 20px;">Model</span>
                    <select id="dropdown4" onchange="updateInput()">
                      <option value="dalle" >Dalle-3</option>
                      <option value="sdxl" selected>SDXL</option>
                      <option value="flux">Flux</option>
                    </select>
                  </div>
                  <div>
                    <span style="font-weight: bold; font-size: 20px;">Illustration Style</span>
                    <select id="dropdown5" onchange="updateInput()">
                      <option value="photorealistic" >Photorealistic</option>
                      <option value="childrenplaybook" selected>Children Playbook</option>
                      <!-- <option value="minimal">minimal</option> -->
                    </select>
                  </div>
                  <!-- <div>
                  <span style="font-weight: bold; font-size: 20px;">Contrast</span>
                  <select id="dropdown1" onchange="updateInput()">
                    <option value="maximal" selected>maximal</option>
                  </select>
                  </div> -->
                  <div>
                  <span style="font-weight: bold; font-size: 20px;">Location</span>
                  <select id="dropdown2" onchange="updateInput()">
                      <option value="initial" selected>initial</option>
                      <!-- <option value="medial">medial</option> -->
                      <option value="final">final</option>
                  </select>
                </div>
                <div>
                  <span style="font-weight: bold; font-size: 20px;">Sound</span>
                  <select id="dropdown3" onchange="updateInput()">
                      <option value="/s/">/s/</option>
                      <option value="/l/">/l/</option>
                      <option value="/r/" selected>/r/</option>
                      <option value="/p/">/p/</option>
                      <option value="/b/">/b/</option>
                  </select>
                </div>
                </div>
                <div class="gradio-box">
                  <textarea rows="2" id= "gradiotext" type="text" class="text-input" placeholder="Generate a pair of words with maximally contrasting phonemes that differ at the initial sound and one of the sounds is \l\" readonly>Generate a pair of words with maximally contrasting phonemes that differ at the initial sound and one of the sounds is /r/
                 </textarea>
                 <button id="getData" class="create-button">Create</button>
                </div>
               
                <script>
                  window.onload = function() {
                    document.getElementById('dropdown4').value = 'flux';
                    document.getElementById('dropdown3').value = '/p/';
                    checkModel();
                  }

                  function updateInput() {
                      // const selected1 = document.getElementById('dropdown1').value;
                      const selected2 = document.getElementById('dropdown2').value;
                      const selected3 = document.getElementById('dropdown3').value;
                      const modelselected = document.getElementById('dropdown4').value
                      const styleselected = document.getElementById('dropdown5').value
                      const inputField = document.getElementById('gradiotext');
                      inputField.value = `Generate a pair of words with maximally contrasting phonemes that differ at the ${selected2} sound and one of the sounds is ${selected3}`;
                  }
              </script>
                  <script>document.getElementById("getData").click();</script>

                <!-- <script src="../assets/javascripts/script.js"></script> -->
                <!-- <input id= "gradiotext" type="text" class="styledInput" placeholder="Enter your data">
                  <div><button id="getData" class="styledButton">Get Data</button></div>
                  <div id="result" class="resultContainer">
                    <div id="imageContainer" class="imageContainer"></div>
                  </div> -->
                <!-- <div id="result" class="resultContainer">
                  <div id="imageContainer" class="imageContainer"></div>
                </div> -->
                
                <div class="gradio-container">
                  <div id = "img-template" class="gradio-box-main-container">
                    <img src="../assets/images/rake.png" style="height: 300px;
                    display: block;
                    padding: 10%;
                    border-radius: 18%;
                    margin: 0;" id = "first-card" class="gradio-box-main"/>
                    <div id="flashcard-first-title" class="flashcard-title">rake</div>
                  </div>
              
            <div class="table-heading">
              <div class="heading-1">Words</div>
              <div class="heading-2">
                <div id="placeholder-card-1-name">
                  rake
                </div>
                <div id="placeholder-card-2-name">
                  cake
                </div>
              </div>
              <div class="heading-3">
                <div id="placeholder-card-1-ipa">
                  reɪk
                </div>
                <div id="placeholder-card-2-ipa">
                  keɪk
                </div>
              </div>
              <div class="heading-4">Sound Characteristics</div>
              <div class="heading-5">
                <div id="placeholder-card-1-phoneme" style="width: 30%; text-align: left;">
                  /r/
                </div>
                <div><span style="color: transparent;
                  text-shadow: 0 0 0 white">&#9899;</span></div>
                <div style="font-weight: bold; width: 30%; text-align: center;">
                  Phoneme
                </div>
                <div><span style="color: transparent;
                  text-shadow: 0 0 0 white">&#9899;</span></div>
                <div id="placeholder-card-2-phoneme" style="width: 30%; text-align: right;">
                  /k/
                </div>
              </div>
              <div id="place-header" class="heading-6">
                <div style="width: 30%; text-align: left;" id="placeholder-card-1-place">
                  alveolar
                </div>
                <div><span id="place-dot-left" style="color: transparent;
                  text-shadow: 0 0 0 #9d0a0a">&#9899;</span></div>
                <div style="font-weight: bold; width: 30%; text-align: center;">
                  Place
                </div>
                <div><span id="place-dot-right" style="color: transparent;
                  text-shadow: 0 0 0 #9d0a0a">&#9899;</span></div>
                <div style="width: 30%; text-align: right;" id="placeholder-card-2-place">
                  velar
                </div>
              </div>
              <div id="voice-header"  class="heading-7">
                <div style="width: 30%; text-align: left;" id="placeholder-card-1-voicing">
                  voiced
                </div>
                <div><span id="voice-dot-left" style="color: transparent;
                  text-shadow: 0 0 0 #9d0a0a">&#9899;</span></div>
                <div style="font-weight: bold; width: 30%; text-align: center;">
                  
                  Voicing
                </div>
                <div><span id="voice-dot-right" style="color: transparent;
                  text-shadow: 0 0 0 #9d0a0a">&#9899;</span></div>
                <div style="width: 30%; text-align: right;" id="placeholder-card-2-voicing">
                  voiceless
                </div>
              </div>
              <div id="manner-header"  class="heading-8">
                <div style="width: 30%; text-align: left;" id="placeholder-card-1-manner">
                  approximant
                </div>
                <div><span id="manner-dot-left" style="color: transparent;
                  text-shadow: 0 0 0 #9d0a0a">&#9899;</span></div>
                <div style="font-weight: bold; width: 30%; text-align: center;">
                  Manner
                </div>
                <div><span id="manner-dot-right" style="color: transparent;
                  text-shadow: 0 0 0 #9d0a0a">&#9899;</span></div>
                <div style="width: 30%; text-align: right;" id="placeholder-card-2-manner">
                  stop
                </div>
              </div>
            </div>
            <script src="image2.json"></script>
                <div id = "img-template" class="gradio-box-main-container">
                  <img src="../assets/images/cake.png" style="height: 300px;
                  display: block;
                  padding: 10%;
                  border-radius: 18%;
                  margin: 0;" id = "second-card" class="gradio-box-main"/>
                  <div id="flashcard-second-title" class="flashcard-title">cake</div>
                </div>
              </div>
              
              <!-- <div style="display: none;" class="explanation-div" id="explanation-div">
                <h1 id="explanation-text"></h1>
              </div> -->
              <div style="float: left; display: none; flex-direction: row; justify-content: space-between; margin-left: 2%; margin-top: 0%;" class="switch-div">
                <label class="switch" style="margin:0px;">
                  <input id="toggle-button" type="checkbox" class="switch-input">
                      <span class="switch-label" data-on="On" data-off="Off"></span>
                      <span class="switch-handle"></span>
              </label>
              <div class="api-error-overlay" id="overlay"></div>

            <div class="api-error-popup" id="popup">
                <span class="api-error-close-btn" onclick="closePopup()">×</span>
                <p>Please try again</p>
            </div>
              <script>
                var initial_s_sound_counter = 0
                var initial_l_sound_counter = 0
                var initial_r_sound_counter = 0
                var final_s_sound_counter = 0
                var final_l_sound_counter = 0
                var final_r_sound_counter = 0
                var initial_s_sound = filterDataByLocationAndSound(data, 'initial', '/s/');
                var initial_l_sound = filterDataByLocationAndSound(data, 'initial', '/l/');
                var initial_r_sound = filterDataByLocationAndSound(data, 'initial', '/r/');
                var final_s_sound = filterDataByLocationAndSound(data, 'final', '/s/');
                var final_l_sound = filterDataByLocationAndSound(data, 'final', '/l/');
                var final_r_sound = filterDataByLocationAndSound(data, 'final', '/r/');

                // Dalle variables

                var initial_s_sound_counter_dalle_cartoon = 0
                var initial_l_sound_counter_dalle_cartoon = 0
                var initial_r_sound_counter_dalle_cartoon = 0
                var final_s_sound_counter_dalle_cartoon = 0
                var final_l_sound_counter_dalle_cartoon = 0
                var final_r_sound_counter_dalle_cartoon = 0
                var initial_s_sound_dalle_cartoon = filterDalleCartoonDataByLocationAndSound(dallecartoondata, 'initial', 's');
                var initial_l_sound_dalle_cartoon = filterDalleCartoonDataByLocationAndSound(dallecartoondata, 'initial', 'l');
                var initial_r_sound_dalle_cartoon = filterDalleCartoonDataByLocationAndSound(dallecartoondata, 'initial', 'r');
                var final_s_sound_dalle_cartoon = filterDalleCartoonDataByLocationAndSound(dallecartoondata, 'final', 's');
                var final_l_sound_dalle_cartoon = filterDalleCartoonDataByLocationAndSound(dallecartoondata, 'final', 'l');
                var final_r_sound_dalle_cartoon = filterDalleCartoonDataByLocationAndSound(dallecartoondata, 'final', 'r');

                // Dalle Cartoon variables

                var initial_s_sound_counter_dalle = 0
                var initial_l_sound_counter_dalle = 0
                var initial_r_sound_counter_dalle = 0
                var final_s_sound_counter_dalle = 0
                var final_l_sound_counter_dalle = 0
                var final_r_sound_counter_dalle = 0
                var initial_s_sound_dalle = filterDalleDataByLocationAndSound(dalledata, 'initial', 's');
                var initial_l_sound_dalle = filterDalleDataByLocationAndSound(dalledata, 'initial', 'l');
                var initial_r_sound_dalle = filterDalleDataByLocationAndSound(dalledata, 'initial', 'r');
                var final_s_sound_dalle = filterDalleDataByLocationAndSound(dalledata, 'final', 's');
                var final_l_sound_dalle = filterDalleDataByLocationAndSound(dalledata, 'final', 'l');
                var final_r_sound_dalle = filterDalleDataByLocationAndSound(dalledata, 'final', 'r');



                // SDXL photorealistic variables

                var initial_s_sound_counter_sdxl_realistic = 0
                var initial_l_sound_counter_sdxl_realistic = 0
                var initial_r_sound_counter_sdxl_realistic = 0
                var final_s_sound_counter_sdxl_realistic = 0
                var final_l_sound_counter_sdxl_realistic = 0
                var final_r_sound_counter_sdxl_realistic = 0
                var initial_s_sound_sdxl_realistic = filterSDXLDataByLocationAndSound(realisticsdxl, 'initial', 's');
                var initial_l_sound_sdxl_realistic = filterSDXLDataByLocationAndSound(realisticsdxl, 'initial', 'l');
                var initial_r_sound_sdxl_realistic = filterSDXLDataByLocationAndSound(realisticsdxl, 'initial', 'r');
                var final_s_sound_sdxl_realistic = filterSDXLDataByLocationAndSound(realisticsdxl, 'final', 's');
                var final_l_sound_sdxl_realistic = filterSDXLDataByLocationAndSound(realisticsdxl, 'final', 'l');
                var final_r_sound_sdxl_realistic = filterSDXLDataByLocationAndSound(realisticsdxl, 'final', 'r');

                // Flux variables
                var initial_p_sound_counter_flux = 0
                var initial_b_sound_counter_flux = 0
                var final_p_sound_counter_flux = 0
                var final_b_sound_counter_flux = 0
                var initial_p_sound_flux = filterFluxDataByLocationAndSound(fluxdata, 'initial', 'p');
                var initial_b_sound_flux = filterFluxDataByLocationAndSound(fluxdata, 'initial', 'b');
                var final_p_sound_flux = filterFluxDataByLocationAndSound(fluxdata, 'final', 'p');
                var final_b_sound_flux = filterFluxDataByLocationAndSound(fluxdata, 'final', 'b');

                function displayPopup() {
                  var overlay = document.getElementById('overlay');
                  var popup = document.getElementById('popup');

                  overlay.style.display = 'block';
                  popup.style.display = 'block';
              }

              function closePopup() {
                  var overlay = document.getElementById('overlay');
                  var popup = document.getElementById('popup');

                  overlay.style.display = 'none';
                  popup.style.display = 'none';
              }

                      

              function filterDataByLocationAndSound(data, inputLocation, inputSound) {
                
    return data.filter(item => item.location === inputLocation && item.sound === inputSound);
}

              function filterDalleDataByLocationAndSound(data, inputLocation, inputSound) {
                console.log('dalle data is ' + dalledata)
                return dalledata.filter(item => item.location === inputLocation && item.sound === inputSound);
            }

            function filterDalleCartoonDataByLocationAndSound(data, inputLocation, inputSound) {
                console.log('dalle data is ' + dalledata)
                return dallecartoondata.filter(item => item.location === inputLocation && item.sound === inputSound);
            }

            function filterSDXLDataByLocationAndSound(data, inputLocation, inputSound) {
                console.log('realisticsdxl is ' + realisticsdxl)
                return realisticsdxl.filter(item => item.location === inputLocation && item.sound === inputSound);
            }

            function filterFluxDataByLocationAndSound(data, inputLocation, inputSound) {
                return fluxdata.filter(item => item.location === inputLocation && item.sound === inputSound);
            }

                function checkModel() {
                  console.log('in check model function')
                  const modelselected = document.getElementById('dropdown4').value;
                  const styleselected = document.getElementById('dropdown5').value;
                  const location = document.getElementById('dropdown2').value;
                  const sound = document.getElementById('dropdown3').value;
                  
                  if(modelselected === 'flux') {
                    if(location === 'initial' && sound.includes('p')) {
                      Finaltem = initial_p_sound_flux[initial_p_sound_counter_flux]
                      initial_p_sound_counter_flux += 1
                      if(initial_p_sound_counter_flux == initial_p_sound_flux.length) {
                        initial_p_sound_counter_flux = 0
                      }
                    }
                    else if(location === 'initial' && sound.includes('b')) {
                      Finaltem = initial_b_sound_flux[initial_b_sound_counter_flux]
                      initial_b_sound_counter_flux += 1
                      if(initial_b_sound_counter_flux == initial_b_sound_flux.length) {
                        initial_b_sound_counter_flux = 0
                      }
                    }
                    else if(location === 'final' && sound.includes('p')) {
                      Finaltem = final_p_sound_flux[final_p_sound_counter_flux]
                      final_p_sound_counter_flux += 1
                      if(final_p_sound_counter_flux == final_p_sound_flux.length) {
                        final_p_sound_counter_flux = 0
                      }
                    }
                    else if(location === 'final' && sound.includes('b')) {
                      Finaltem = final_b_sound_flux[final_b_sound_counter_flux]
                      final_b_sound_counter_flux += 1
                      if(final_b_sound_counter_flux == final_b_sound_flux.length) {
                        final_b_sound_counter_flux = 0
                      }
                    }
                    
                    // Display the Flux images regardless of style selection
                    const firstcard = document.getElementById('first-card');
                    const secondcard = document.getElementById('second-card');
                    firstcard.src = Finaltem.pair.item1.b64_image;
                    secondcard.src = Finaltem.pair.item2.b64_image;
                    
                    // Update other card details
                    document.getElementById('flashcard-first-title').innerText = Finaltem.pair.item1.word;
                    document.getElementById('flashcard-second-title').innerText = Finaltem.pair.item2.word;
                    document.getElementById("placeholder-card-1-name").innerText = Finaltem.pair.item1.word;
                    document.getElementById("placeholder-card-2-name").innerText = Finaltem.pair.item2.word;
                    document.getElementById("placeholder-card-1-ipa").innerText = Finaltem.pair.item1.ipa;
                    document.getElementById("placeholder-card-2-ipa").innerText = Finaltem.pair.item2.ipa;
                    document.getElementById("placeholder-card-1-place").innerText = Finaltem.pair.item1.place;
                    document.getElementById("placeholder-card-2-place").innerText = Finaltem.pair.item2.place;
                    document.getElementById("placeholder-card-1-voicing").innerText = Finaltem.pair.item1.voicing;
                    document.getElementById("placeholder-card-2-voicing").innerText = Finaltem.pair.item2.voicing;
                    document.getElementById("placeholder-card-1-manner").innerText = Finaltem.pair.item1.manner;
                    document.getElementById("placeholder-card-2-manner").innerText = Finaltem.pair.item2.manner;
                    document.getElementById("placeholder-card-1-phoneme").innerText = '/' + Finaltem.pair.item1.sound.replace(/\//g, '') + '/';
                    document.getElementById("placeholder-card-2-phoneme").innerText = '/' + Finaltem.pair.item2.sound.replace(/\//g, '') + '/';
                    
                    // Update explanation if available
                    if (Finaltem.hasOwnProperty('explanation')) {
                      document.getElementById("explanation-div").innerText = Finaltem.explanation;
                    }
                    
                    // Update dots for differences
                    updateDifferenceDots(Finaltem);
                  }
                  else if (modelselected === "dalle" && styleselected === "photorealistic" ) {
                    getDalleCannedresponseNew()
                  } else if (modelselected === "dalle" && styleselected === "childrenplaybook" ) {
                    getDalleCartoonCannedresponseNew()
                  }
                  else if (modelselected === "sdxl" && styleselected === "childrenplaybook") {
                    console.log('called older json')
                    getCannedresponseNew()
                  } else if (modelselected === "sdxl" && styleselected === "photorealistic") {
                    getSDXLrealistic()
                  }
                }

                // Helper function to update the difference dots
                function updateDifferenceDots(Finaltem) {
                  const placedotleft = document.getElementById("place-dot-left");
                  const voicedotleft = document.getElementById("voice-dot-left");
                  const mannerdotleft = document.getElementById("manner-dot-left");
                  const placedotright = document.getElementById("place-dot-right");
                  const voicedotright = document.getElementById("voice-dot-right");
                  const mannerdotright = document.getElementById("manner-dot-right");
                  
                  // Update voicing dots
                  if (Finaltem.pair.item1.voicing !== Finaltem.pair.item2.voicing) {
                    voicedotleft.style.textShadow = '0 0 0 #9d0a0a';
                    voicedotright.style.textShadow = '0 0 0 #9d0a0a';
                  } else {
                    voicedotleft.style.textShadow = '0 0 0 white';
                    voicedotright.style.textShadow = '0 0 0 white';
                  }
                  
                  // Update manner dots
                  if (Finaltem.pair.item1.manner !== Finaltem.pair.item2.manner) {
                    mannerdotleft.style.textShadow = '0 0 0 #9d0a0a';
                    mannerdotright.style.textShadow = '0 0 0 #9d0a0a';
                  } else {
                    mannerdotleft.style.textShadow = '0 0 0 white';
                    mannerdotright.style.textShadow = '0 0 0 white';
                  }
                  
                  // Update place dots
                  if (Finaltem.pair.item1.place !== Finaltem.pair.item2.place) {
                    placedotleft.style.textShadow = '0 0 0 #9d0a0a';
                    placedotright.style.textShadow = '0 0 0 #9d0a0a';
                  } else {
                    placedotleft.style.textShadow = '0 0 0 white';
                    placedotright.style.textShadow = '0 0 0 white';
                  }
                }

                function getSDXLrealistic() {
                  console.log('calling sdxl realistic json function')
                  // const contrast = document.getElementById('dropdown1').value;
                  const location = document.getElementById('dropdown2').value;
                  const sound = document.getElementById('dropdown3').value;
                  // console.log('location is ' + location)
                  // console.log('sound is ' + sound)
                  
                  // check input
                  // var Finalitem = ["temp"]
                  console.log('initial_l_sound_sdxl_realistic is ' + initial_l_sound_sdxl_realistic)
                  console.log('initial_r_sound_sdxl_realistic is ' + initial_r_sound_sdxl_realistic)
                  console.log('initial_s_sound_sdxl_realistic is ' + initial_s_sound_sdxl_realistic)
                  if(location === 'initial' && sound.includes('l')) {
                    Finaltem = initial_l_sound_sdxl_realistic[initial_l_sound_counter_sdxl_realistic]
                    initial_l_sound_counter_sdxl_realistic += 1
                    if(initial_l_sound_counter_sdxl_realistic == initial_l_sound_sdxl_realistic.length) {
                      initial_l_sound_counter_sdxl_realistic = 0
                    }
                  }
                  else if(location === 'final' && sound.includes('l')) {
                    Finaltem = final_l_sound_sdxl_realistic[final_l_sound_counter_sdxl_realistic]
                    final_l_sound_counter_sdxl_realistic += 1
                    if(final_l_sound_counter_sdxl_realistic == final_l_sound_sdxl_realistic.length) {
                      final_l_sound_counter_sdxl_realistic = 0
                    }
                  }
                  else if(location === 'initial' && sound.includes('r')) {
                    Finaltem = initial_r_sound_sdxl_realistic[initial_r_sound_counter_sdxl_realistic]
                    initial_r_sound_counter_sdxl_realistic += 1
                    if(initial_r_sound_counter_sdxl_realistic == initial_r_sound_sdxl_realistic.length) {
                      initial_r_sound_counter_sdxl_realistic = 0
                    }
                  }
                  else if(location === 'final' && sound.includes('r')) {
                    Finaltem = final_r_sound_sdxl_realistic[final_r_sound_counter_sdxl_realistic]
                    final_r_sound_counter_sdxl_realistic += 1
                    if(final_r_sound_counter_sdxl_realistic == final_r_sound_sdxl_realistic.length) {
                      final_r_sound_counter_sdxl_realistic = 0
                    }
                  }
                  else if(location === 'initial' && sound.includes('s')) {
                    Finaltem = initial_s_sound_sdxl_realistic[initial_s_sound_counter_sdxl_realistic]
                    initial_s_sound_counter_sdxl_realistic += 1
                    if(initial_s_sound_counter_sdxl_realistic == initial_s_sound_sdxl_realistic.length) {
                      initial_s_sound_counter_sdxl_realistic = 0
                    }
                  }
                  else if(location === 'final' && sound.includes('s')) {
                    Finaltem = final_s_sound_sdxl_realistic[final_s_sound_counter_sdxl_realistic]
                    final_s_sound_counter_sdxl_realistic += 1
                    if(final_s_sound_counter_sdxl_realistic == final_s_sound_sdxl_realistic.length) {
                      final_s_sound_counter_sdxl_realistic = 0
                    }
                  }
                  console.log('final item after filtering is ' + Finaltem)
                  
                  //const randomItem = filterDataByLocationAndSound(data, location, sound);
                  //const Finaltem = getRandomIndex(randomItem);

                  //console.log('len filter data is ' + (Finaltem.length))

                  //console.log('data 1 is ' + (Finaltem.pair.item1))
                  
                  const firstcard = document.getElementById('first-card');
                  const secondcard = document.getElementById('second-card');
                  const table = document.getElementById("card-details-table");
                  const card1name = document.getElementById("placeholder-card-1-name");
                  const card2name = document.getElementById("placeholder-card-2-name");
                  const firstcardtitle = document.getElementById('flashcard-first-title');
                  const secondcardtitle = document.getElementById('flashcard-second-title');
                  const card1phonetic = document.getElementById("placeholder-card-1-ipa");
                  const card2phonetic = document.getElementById("placeholder-card-2-ipa");
                  const card1place = document.getElementById("placeholder-card-1-place");
                  const card2place = document.getElementById("placeholder-card-2-place");
                  const card1voice = document.getElementById("placeholder-card-1-voicing");
                  const card2voice = document.getElementById("placeholder-card-2-voicing");
                  const card1manner = document.getElementById("placeholder-card-1-manner");
                  const card2manner = document.getElementById("placeholder-card-2-manner");
                  const card1phoneme = document.getElementById("placeholder-card-1-phoneme");
                  const card2phoneme = document.getElementById("placeholder-card-2-phoneme");
                  const cardplaceheader = document.getElementById("place-header");
                  const cardvoiceheader = document.getElementById("voice-header");
                  const cardmannerheader = document.getElementById("manner-header");
                  const explanation = document.getElementById("explanation-div");
                  const explanationdiv = document.getElementById("explanation-div");
                  const gradioboxmain = document.getElementById("img-template");
                  const placedotleft = document.getElementById("place-dot-left")
                  const voicedotleft = document.getElementById("voice-dot-left")
                  const mannerdotleft = document.getElementById("manner-dot-left")
                  const placedotright = document.getElementById("place-dot-right")
                  const voicedotright = document.getElementById("voice-dot-right")
                  const mannerdotright = document.getElementById("manner-dot-right")
                  firstcard.style.display = 'block'
                  secondcard.style.display = 'block'
                  // console.log('img 1 src is ' + Finaltem.pair.item1.b64_image)
                  console.log('final item is ' + Finaltem)
                  console.log(Object.keys(Finaltem).length)
                  firstcard.src = './sdxl_realistic/'+Finaltem.pair.item1.b64_image;
                  secondcard.src = './sdxl_realistic/'+Finaltem.pair.item2.b64_image;
                  // table.style.display = 'inline'
                  firstcardtitle.innerText = Finaltem.pair.item1.word
                  secondcardtitle.innerText = Finaltem.pair.item2.word
                  card1name.innerText = Finaltem.pair.item1.word
                  card2name.innerText = Finaltem.pair.item2.word
                  card1phonetic.innerText = Finaltem.pair.item1.ipa
                  card2phonetic.innerText = Finaltem.pair.item2.ipa
                  card1place.innerText = Finaltem.pair.item1.place
                  card2place.innerText = Finaltem.pair.item2.place
                  card1voice.innerText = Finaltem.pair.item1.voicing
                  card2voice.innerText = Finaltem.pair.item2.voicing
                  card1manner.innerText = Finaltem.pair.item1.manner
                  card2manner.innerText = Finaltem.pair.item2.manner
                  // Finaltem.pair.item1.sound.replace(/\//g, '')
                  // Finaltem.pair.item2.sound.replace(/\//g, '')
                  // if (Finaltem.pair.item1.sound.startsWith('/') && Finaltem.pair.item1.sound.endsWith('/')) {
                  //   Finaltem.pair.item1.sound = Finaltem.pair.item1.sound.slice(2, -2);
                  // }
                  // if (Finaltem.pair.item2.sound.startsWith('/') && Finaltem.pair.item2.sound.endsWith('/')) {
                  //   Finaltem.pair.item2.sound = Finaltem.pair.item2.sound.slice(2, -2);
                  // }
                  card1phoneme.innerText = '/' + Finaltem.pair.item1.sound.replace(/\//g, '') + '/'
                  card2phoneme.innerText = '/' + Finaltem.pair.item2.sound.replace(/\//g, '') + '/'
                  // explanationdiv.style.display = 'block'
                  if (Finaltem.hasOwnProperty('explanation')){
                  explanation.innerText = Finaltem.explanation
                  }
                  gradioboxmain.style.height = 'auto'
  
                  if (Finaltem.pair.item1.voicing !== Finaltem.pair.item2.voicing ){
                      // cardvoiceheader.style.backgroundColor = 'lightblue';
                      // cardvoiceheader.style.borderRadius = '5px';
                      voicedotleft.style.textShadow = '0 0 0 #9d0a0a';
                      voicedotright.style.textShadow = '0 0 0 #9d0a0a';
                      
                  } else {
                    voicedotleft.style.textShadow = '0 0 0 white';
                    voicedotright.style.textShadow = '0 0 0 white';
                  }
                  // check diff manner
                  if (Finaltem.pair.item1.manner !== Finaltem.pair.item2.manner ){
                    mannerdotleft.style.textShadow = '0 0 0 #9d0a0a';
                    mannerdotright.style.textShadow = '0 0 0 #9d0a0a';
    
                      
                  } else {
                    mannerdotleft.style.textShadow = '0 0 0 white';
                    mannerdotright.style.textShadow = '0 0 0 white';
                  }
                  // check diff place
                  if (Finaltem.pair.item1.place !== Finaltem.pair.item2.place ){
                    placedotleft.style.textShadow = '0 0 0 #9d0a0a';
                    placedotright.style.textShadow = '0 0 0 #9d0a0a';
                      
                  } else {
                    placedotleft.style.textShadow = '0 0 0 white';
                    placedotright.style.textShadow = '0 0 0 white';
                  }
                  // check diff voicing
                  // Assuming data.base64Image contains the base64 encoded image
                  // const base64Image = data.base64Image;
                  // item1Image.src ='../images/flashcard1.png';
                  // item2Image.src = '../images/flashcard2.png';
                  // Set the background image of the image container
                  //imageContainer.style.backgroundImage = `url(data:image/jpeg;base64,${base64Image})`;
              }

                  function getDalleCartoonCannedresponseNew() {
                      
                      // const contrast = document.getElementById('dropdown1').value;
                      const location = document.getElementById('dropdown2').value;
                      const sound = document.getElementById('dropdown3').value;
                      // console.log('location is ' + location)
                      // console.log('sound is ' + sound)
                      
                      // check input
                      var Finalitem = ["temp"]
                        
                      if(location === 'initial' && sound.includes('l')) {
                        Finaltem = initial_l_sound_dalle_cartoon[initial_l_sound_counter_dalle_cartoon]
                        initial_l_sound_counter_dalle_cartoon += 1
                        if(initial_l_sound_counter_dalle_cartoon == initial_l_sound_dalle_cartoon.length) {
                          initial_l_sound_counter_dalle_cartoon = 0
                        }
                      }
                      else if(location === 'final' && sound.includes('l')) {
                        Finaltem = final_l_sound_dalle_cartoon[final_l_sound_counter_dalle_cartoon]
                        final_l_sound_counter_dalle_cartoon += 1
                        if(final_l_sound_counter_dalle_cartoon == final_l_sound_dalle_cartoon.length) {
                          final_l_sound_counter_dalle_cartoon = 0
                        }
                      }
                      else if(location === 'initial' && sound.includes('r')) {
                        Finaltem = initial_r_sound_dalle_cartoon[initial_r_sound_counter_dalle_cartoon]
                        initial_r_sound_counter_dalle_cartoon += 1
                        if(initial_r_sound_counter_dalle_cartoon == initial_r_sound_dalle_cartoon.length) {
                          initial_r_sound_counter_dalle_cartoon = 0
                        }
                      }
                      else if(location === 'final' && sound.includes('r')) {
                        Finaltem = final_r_sound_dalle_cartoon[final_r_sound_counter_dalle_cartoon]
                        final_r_sound_counter_dalle_cartoon += 1
                        if(final_r_sound_counter_dalle_cartoon == final_r_sound_dalle_cartoon.length) {
                          final_r_sound_counter_dalle_cartoon = 0
                        }
                      }
                      else if(location === 'initial' && sound.includes('s')) {
                        Finaltem = initial_s_sound_dalle_cartoon[initial_s_sound_counter_dalle_cartoon]
                        initial_s_sound_counter_dalle_cartoon += 1
                        if(initial_s_sound_counter_dalle_cartoon == initial_s_sound_dalle_cartoon.length) {
                          initial_s_sound_counter_dalle_cartoon = 0
                        }
                      }
                      else if(location === 'final' && sound.includes('s')) {
                        Finaltem = final_s_sound_dalle_cartoon[final_s_sound_counter_dalle_cartoon]
                        final_s_sound_counter_dalle_cartoon += 1
                        if(final_s_sound_counter_dalle_cartoon == final_s_sound_dalle_cartoon.length) {
                          final_s_sound_counter_dalle_cartoon = 0
                        }
                      }
    
                      
                      //const randomItem = filterDataByLocationAndSound(data, location, sound);
                      //const Finaltem = getRandomIndex(randomItem);

                      //console.log('len filter data is ' + (Finaltem.length))

                      //console.log('data 1 is ' + (Finaltem.pair.item1))
                      
                      const firstcard = document.getElementById('first-card');
                      const secondcard = document.getElementById('second-card');
                      const table = document.getElementById("card-details-table");
                      const card1name = document.getElementById("placeholder-card-1-name");
                      const card2name = document.getElementById("placeholder-card-2-name");
                      const firstcardtitle = document.getElementById('flashcard-first-title');
                      const secondcardtitle = document.getElementById('flashcard-second-title');
                      const card1phonetic = document.getElementById("placeholder-card-1-ipa");
                      const card2phonetic = document.getElementById("placeholder-card-2-ipa");
                      const card1place = document.getElementById("placeholder-card-1-place");
                      const card2place = document.getElementById("placeholder-card-2-place");
                      const card1voice = document.getElementById("placeholder-card-1-voicing");
                      const card2voice = document.getElementById("placeholder-card-2-voicing");
                      const card1manner = document.getElementById("placeholder-card-1-manner");
                      const card2manner = document.getElementById("placeholder-card-2-manner");
                      const card1phoneme = document.getElementById("placeholder-card-1-phoneme");
                      const card2phoneme = document.getElementById("placeholder-card-2-phoneme");
                      const cardplaceheader = document.getElementById("place-header");
                      const cardvoiceheader = document.getElementById("voice-header");
                      const cardmannerheader = document.getElementById("manner-header");
                      const explanation = document.getElementById("explanation-div");
                      const explanationdiv = document.getElementById("explanation-div");
                      const gradioboxmain = document.getElementById("img-template");
                      const placedotleft = document.getElementById("place-dot-left")
                      const voicedotleft = document.getElementById("voice-dot-left")
                      const mannerdotleft = document.getElementById("manner-dot-left")
                      const placedotright = document.getElementById("place-dot-right")
                      const voicedotright = document.getElementById("voice-dot-right")
                      const mannerdotright = document.getElementById("manner-dot-right")
                      firstcard.style.display = 'block'
                      secondcard.style.display = 'block'
                      // console.log('img 1 src is ' + Finaltem.pair.item1.b64_image)
                      console.log('final item is ' + Finaltem)
                      console.log(Object.keys(Finaltem).length)
                      firstcard.src = Finaltem.pair.item1.b64_image;
                      secondcard.src = Finaltem.pair.item2.b64_image;
                      // table.style.display = 'inline'
                      firstcardtitle.innerText = Finaltem.pair.item1.word
                      secondcardtitle.innerText = Finaltem.pair.item2.word
                      card1name.innerText = Finaltem.pair.item1.word
                      card2name.innerText = Finaltem.pair.item2.word
                      card1phonetic.innerText = Finaltem.pair.item1.ipa
                      card2phonetic.innerText = Finaltem.pair.item2.ipa
                      card1place.innerText = Finaltem.pair.item1.place
                      card2place.innerText = Finaltem.pair.item2.place
                      card1voice.innerText = Finaltem.pair.item1.voicing
                      card2voice.innerText = Finaltem.pair.item2.voicing
                      card1manner.innerText = Finaltem.pair.item1.manner
                      card2manner.innerText = Finaltem.pair.item2.manner
                      // Finaltem.pair.item1.sound.replace(/\//g, '')
                      // Finaltem.pair.item2.sound.replace(/\//g, '')
                      // if (Finaltem.pair.item1.sound.startsWith('/') && Finaltem.pair.item1.sound.endsWith('/')) {
                      //   Finaltem.pair.item1.sound = Finaltem.pair.item1.sound.slice(2, -2);
                      // }
                      // if (Finaltem.pair.item2.sound.startsWith('/') && Finaltem.pair.item2.sound.endsWith('/')) {
                      //   Finaltem.pair.item2.sound = Finaltem.pair.item2.sound.slice(2, -2);
                      // }
                      card1phoneme.innerText = '/' + Finaltem.pair.item1.sound.replace(/\//g, '') + '/'
                      card2phoneme.innerText = '/' + Finaltem.pair.item2.sound.replace(/\//g, '') + '/'
                      // explanationdiv.style.display = 'block'
                      if (Finaltem.hasOwnProperty('explanation')){
                      explanation.innerText = Finaltem.explanation
                      }
                      gradioboxmain.style.height = 'auto'
  
                      if (Finaltem.pair.item1.voicing !== Finaltem.pair.item2.voicing ){
                          // cardvoiceheader.style.backgroundColor = 'lightblue';
                          // cardvoiceheader.style.borderRadius = '5px';
                          voicedotleft.style.textShadow = '0 0 0 #9d0a0a';
                          voicedotright.style.textShadow = '0 0 0 #9d0a0a';
                          
                      } else {
                        voicedotleft.style.textShadow = '0 0 0 white';
                        voicedotright.style.textShadow = '0 0 0 white';
                      }
                      // check diff manner
                      if (Finaltem.pair.item1.manner !== Finaltem.pair.item2.manner ){
                        mannerdotleft.style.textShadow = '0 0 0 #9d0a0a';
                        mannerdotright.style.textShadow = '0 0 0 #9d0a0a';
    
                          
                      } else {
                        mannerdotleft.style.textShadow = '0 0 0 white';
                        mannerdotright.style.textShadow = '0 0 0 white';
                      }
                      // check diff place
                      if (Finaltem.pair.item1.place !== Finaltem.pair.item2.place ){
                        placedotleft.style.textShadow = '0 0 0 #9d0a0a';
                        placedotright.style.textShadow = '0 0 0 #9d0a0a';
                          
                      } else {
                        placedotleft.style.textShadow = '0 0 0 white';
                        placedotright.style.textShadow = '0 0 0 white';
                      }
                      // check diff voicing
                      // Assuming data.base64Image contains the base64 encoded image
                      // const base64Image = data.base64Image;
                      // item1Image.src ='../images/flashcard1.png';
                      // item2Image.src = '../images/flashcard2.png';
                      // Set the background image of the image container
                      //imageContainer.style.backgroundImage = `url(data:image/jpeg;base64,${base64Image})`;
                  }
    
                    
                  
              </script>
              </div>
                  </div>
                  <div  style="margin-left: 83%; width: 15%; margin-top: -5%;">
                    <img onclick="explationationnpopup()" src="../assets/images/explanation-pic.png"/>
                  </div> 
              </div>
              
                    
</article>
<!-- <a class="right-arrow-page-4" href="/FlashCards_Demo/page5/">
  &gt;
 </a> -->
 
</div>

<div class="api-error-overlay" id="explanation-overlay">
  
  <div style="   margin-top: 25%;
  margin-left: 20%;
  margin-right: 20%;
  background-color: #fff2cc;
  padding: 1%;
  margin: 1px 1px 1px 1px white;
  border-color: white;
  box-shadow: 0px 0px 0px 10px white inset;
  border-radius: 25px;
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  " class="api-error-overlay-main-class">
  <div class="api-error-popup-page2" id="explanation-popup">
    <span class="api-error-close-btn-page2 " onclick="closeexplanationPopup()">×</span>
    
  </div>
  <div style="font-size: 22px;margin: 0 auto; padding: 4%;" id="explanation-div" >These words are contrasting maximally because the place of articulation (alveolar vs velar), manner of articulation (approximant vs stop), and voicing (voiced vs voiceless) are all different.</div>
  </div>
</div>

<script>
  function explationationnpopup() {
      var overlay = document.getElementById('explanation-overlay');
      var popup = document.getElementById('explanation-popup');

      overlay.style.display = 'block';
      popup.style.display = 'block';
      overlay.style.opacity = 1;
  }

  function closeexplanationPopup() {
      var overlay = document.getElementById('explanation-overlay');
      var popup = document.getElementById('explanation-popup');

      overlay.style.display = 'none';
      overlay.style.opacity = 0;
      popup.style.display = 'none';
  }
</script>

            <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
          </body>
        </div>
      </main>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant"], "search": "../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.78eede0e.min.js"></script>
      
        <!-- <script src="../assets/js/custom_scroll.js"></script> -->
      
    
  </body>
</html>